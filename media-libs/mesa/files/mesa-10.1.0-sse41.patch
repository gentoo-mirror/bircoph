--- configure.ac.orig	2014-04-16 11:48:13.000000000 +0400
+++ configure.ac	2014-04-16 19:17:04.067226664 +0400
@@ -233,8 +233,18 @@
 dnl
 dnl Optional flags, check for compiler support
 dnl
-AX_CHECK_COMPILE_FLAG([-msse4.1], [SSE41_SUPPORTED=1], [SSE41_SUPPORTED=0])
-AM_CONDITIONAL([SSE41_SUPPORTED], [test x$SSE41_SUPPORTED = x1])
+AC_ARG_ENABLE([sse4_1],
+    [AS_HELP_STRING([--enable-sse4_1],
+        [enable SSE4.1 optimized code @<:@default=auto@:>@])],
+    [enable_sse41="$enableval"],
+    [enable_sse41=auto]
+)
+if test "x$enable_sse41" = xyes; then
+    AX_CHECK_COMPILE_FLAG([-msse4.1], [SSE41_SUPPORTED=1], [SSE41_SUPPORTED=0])
+    AM_CONDITIONAL([SSE41_SUPPORTED], [test x$SSE41_SUPPORTED = x1])
+else
+    AM_CONDITIONAL([SSE41_SUPPORTED], [false])
+fi
 
 dnl
 dnl Hacks to enable 32 or 64 bit build
