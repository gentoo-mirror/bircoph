# ChangeLog for sys-cluster/orangefs
# Copyright 1999-2012 Gentoo Foundation; Distributed under the GPL v2
# $Header: $

  23 Mar 2012; Andrew Savchenko <bircoph@gmail.com> files/pvfs2-client-conf.d,
  files/pvfs2-client-init.d, files/pvfs2-server-conf.d,
  files/pvfs2-server-init.d:
  Add nice and ionice (for server only) control levels.

  22 Mar 2012; Andrew Savchenko <bircoph@gmail.com> orangefs-2.8.5.ebuild:
  orangefs: warn about still unsupported 3.3 kernel

  ...and provide suggestions how to overcome this.

  22 Mar 2012; Andrew Savchenko <bircoph@gmail.com> orangefs-2.8.5.ebuild,
  +files/orangefs-2.8.5-linux-3.2.patch:
  Add upstream support for 3.2+ kernels.

  17 Mar 2012; Andrew Savchenko <bircoph@gmail.com> orangefs-2.8.5.ebuild:
  Fuse is now fixed, thus change postinstall message.

  13 Mar 2012; Andrew Savchenko <bircoph@gmail.com> orangefs-2.8.5.ebuild,
  -files/orangefs-2.8.5-fuse.patch, +files/orangefs-2.8.5-fuse-install.patch,
  +files/orangefs-2.8.5-fuse-perms.patch:
  Fix chmod failure in the fuse client. Patch by upstream.

  12 Mar 2012; Andrew Savchenko <bircoph@gmail.com> orangefs-2.8.5.ebuild,
  +files/orangefs-2.8.5-linux-3.1.patch:
  Add upstream support for 3.1/3.2 kernels.

  12 Mar 2012; Andrew Savchenko <bircoph@gmail.com> orangefs-2.8.5.ebuild:
  Separate static library and binary dependencies, this adds new
  static-libs USE flag. With USE="static-libs" it is now required
  openssl and open-mx to use the same flag, otherwise build will
  fail.

  Remove --enable-thread-safe flag. Safe threads are enabled by
  default and configure doesn't handle --enable part of this option
  actually causing it to be disabled.

  12 Mar 2012; Andrew Savchenko <bircoph@gmail.com> files/pvfs2-client-conf.d,
  files/pvfs2-client-init.d, files/pvfs2-server-init.d, orangefs-2.8.5.ebuild,
  files/pvfs2-server-conf.d:
  Implement forced umount/shutdown as safe as possible.

  11 Mar 2012; Andrew Savchenko <bircoph@gmail.com> files/pvfs2-client-conf.d,
  files/pvfs2-client-init.d, files/pvfs2-server-init.d:
  Add the following abilities to the client server script:
  1) Optional check for server(s) availability.
  2) Optional forceful unmount with an attempt to work as cleanly as
  possible.
  Use checkpath runscript function.

  08 Mar 2012; Andrew Savchenko <bircoph@gmail.com> files/pvfs2-server-conf.d,
  orangefs-2.8.5.ebuild:
  Install client initd/confd scripts only with USE="modules". Without
  kernel modules pvfs2-client is useless.
  Make postinstall memo shorter and more informational.
  Tune server config file descriptions a bit.

  07 Mar 2012; Andrew Savchenko <bircoph@gmail.com> files/pvfs2-client-conf.d,
  files/pvfs2-client-init.d, files/pvfs2-server-init.d, orangefs-2.8.5.ebuild,
  files/pvfs2-server-conf.d:
  Implement basic client daemon and mounter init script.
  Some minor fixes in server script.

  07 Mar 2012; Andrew Savchenko <bircoph@gmail.com> files/pvfs2-server-conf.d,
  files/pvfs2-server-init.d, orangefs-2.8.5.ebuild:
  Restore the wait option. The server still may fail after a fork.
  Server options must be used on mkfs stage too, especially this
  concerns -a option and multiserver setup.

  05 Mar 2012; Andrew Savchenko <bircoph@gmail.com>
  files/orangefs-2.8.5-layout.patch, files/pvfs2-client-conf.d,
  files/pvfs2-client-init.d, files/pvfs2-server-conf.d,
  files/pvfs2-server-init.d, files/orangefs-2.8.5-static-server.patch:
  orangefs: further fixes and improvements

  - Fix layout patch, move alogorithm control option to the Defaults
  section as LayoutAlgo.
  - Clear shm after server shutdown.
  - Simplify init scripts; wait option for server is needed no
  longer.
  - Remove trailing spaces in patches.

  02 Mar 2012; Andrew Savchenko <bircoph@gmail.com> orangefs-2.8.5.ebuild,
  files/pvfs2-server-conf.d, files/pvfs2-server-init.d,
  files/orangefs-2.8.5-layout.patch, files/orangefs-2.8.5-static-server.patch:
  Fix filesystem check and optional initialization in server init
  script. Remove trailing spaces. Comment out all default options in
  conf.d file.

  01 Mar 2012; Andrew Savchenko <bircoph@gmail.com> files/pvfs2-server-conf.d,
  files/pvfs2-server-init.d:
  Fix filesystem generation in the init script.

*orangefs-2.8.5.ebuild (21 Feb 2012)

  21 Feb 2012; Andrew Savchenko <bircoph@gmail.com>
  +orangefs-2.8.5.ebuild, +metadata.xml,
  +files/orangefs-2.8.5-fuse.patch,
  +files/orangefs-2.8.5-split-kernapps.patch,
  +files/orangefs-2.8.5-static-server.patch,
  +files/orangefs-2.8.5-vis.patch,
  +files/pvfs2-client-conf.d, +files/pvfs2-client-init.d,
  +files/pvfs2-server-conf.d, +fiels/pvfs2-server-init.d:
  This ebuild is vaguely based on the ebuild for pvfs2 which was once
  in the portage. Major changes were made to accomodate new features
  and behaviour.
